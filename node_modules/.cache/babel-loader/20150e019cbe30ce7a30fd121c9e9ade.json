{"ast":null,"code":"var _jsxFileName = \"E:\\\\COURSE\\\\REACT_JS_n_PWA\\\\crud\\\\retail\\\\src\\\\components\\\\RetailCreate\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { useEffect } from \"react\";\nimport { openDB, deleteDB, wrap, unwrap } from \"idb\";\nimport \"./style.css\";\nimport GoogleMaps from \"../Maps/GoogleMaps\";\nimport CameraModule from \"../Camera/CameraModule\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main() {\n  _s();\n\n  const [name, setname] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [contact1, setcontact1] = useState();\n  const [contact2, setcontact2] = useState('');\n  const [retailsize, setretailsize] = useState(\"\");\n  const [itautomation, setitautomation] = useState(\"Automated\");\n  const [mobile, setmobile] = useState(false);\n  const [tab, settab] = useState(false);\n  const [computer, setcomputer] = useState(false);\n  const [printer, setprinter] = useState(false);\n  const [scanner, setscanner] = useState(false);\n  const [nomobile, setnomobile] = useState(0);\n  const [notab, setnotab] = useState(0);\n  const [nocomputer, setnocomputer] = useState(0);\n  const [noprinter, setnoprinter] = useState(0);\n  const [noscanner, setnoscanner] = useState(0);\n  const [submitted, setsubmitted] = useState(false);\n  const [located, setlocated] = useState(false);\n  const [latitude, setlatitude] = useState(\"\");\n  const [longitude, setlongitude] = useState(\"\");\n  const [lists1, setlists1] = useState([]);\n  const [error, seterror] = useState(\"\");\n  const [image_upload, setimage_upload] = useState();\n  const [live_capture, setlive_capture] = useState();\n  const [blobimage, setblobimage] = useState();\n  const [image_upload_size, setimage_upload_size] = useState();\n  const [live_capture_size, setlive_capture_size] = useState();\n  const [deletefromidb, setdeletefromidb] = useState([]);\n  const [fetch_Data_from_MySQL, setfetch_Data_from_MySQL] = useState([]);\n  useEffect(() => {\n    openDB(\"retail\", 1, {\n      upgrade(db) {\n        db.createObjectStore(\"details\", {\n          keyPath: \"email\"\n        });\n      }\n\n    });\n  }, []);\n  useEffect(() => {\n    const use_effect_update_mysql_with_idb = async () => {\n      console.log(\"INSIDE update_mysql_with_idb\");\n      const db = await openDB(\"retail\", 1);\n      const idb_data = await db.getAll(\"details\");\n      console.log(idb_data); //   if(navigator.onLine)\n      // {  \n\n      idb_data.map(info => {\n        console.log(info.mysql_sync);\n\n        if (info.mysql_sync === false) {\n          console.log(info.email);\n          const mysql_data = {\n            name: info.name,\n            email: info.email,\n            contact_number1: info.contact_number1,\n            contact_number2: info.contact_number2,\n            retail_size: info.retail_size,\n            it_automation: info.it_automation,\n            no_of_mobile: info.no_of_mobile,\n            no_of_tab: info.no_of_tab,\n            no_of_computer: info.no_of_computer,\n            no_of_printer: info.no_of_printer,\n            no_of_scanner: info.no_of_scanner,\n            latitude: info.latitude,\n            longitude: info.longitude,\n            image: info.image\n          };\n          let form_data = new FormData();\n          form_data.append('name', info.name);\n          form_data.append('email', info.email);\n          form_data.append('contact_number1', info.contact_number1);\n          form_data.append('contact_number2', info.contact_number2);\n          form_data.append('retail_size', info.retail_size);\n          form_data.append('it_automation', info.it_automation);\n          form_data.append('no_of_mobile', info.no_of_mobile);\n          form_data.append('no_of_tab', info.no_of_tab);\n          form_data.append('no_of_computer', info.no_of_computer);\n          form_data.append('no_of_printer', info.no_of_printer);\n          form_data.append('no_of_scanner', info.no_of_scanner);\n          form_data.append('latitude', info.latitude);\n          form_data.append('longitude', info.longitude);\n          form_data.append('image', info.image);\n          axios.post(\"http://127.0.0.1:8000/retail/create/\", form_data, {\n            headers: {\n              'content-type': 'multipart/form-data'\n            }\n          }).then(async response => {\n            // const json_data = await response.json();\n            //   console.log(\"mysql response\", json_data);\n            console.log(\"RESPONSE STATUS\", response.status);\n\n            if (response.status >= 400 && response.status <= 599) {\n              const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\";\n              await db.delete(\"details\", info.email);\n            } else {\n              const temp = info.email + \" added to mysql\";\n              seterror(temp);\n              const indexeddb_data = {\n                name: info.name,\n                email: info.email,\n                contact_number1: info.contact_number1,\n                contact_number2: info.contact_number2,\n                retail_size: info.retail_size,\n                it_automation: info.it_automation,\n                no_of_mobile: info.no_of_mobile,\n                no_of_tab: info.no_of_tab,\n                no_of_computer: info.no_of_computer,\n                no_of_printer: info.no_of_printer,\n                no_of_scanner: info.no_of_scanner,\n                latitude: info.latitude,\n                longitude: info.longitude,\n                mysql_sync: true,\n                image: info.image\n              };\n              await db.put(\"details\", indexeddb_data).then(res => {\n                console.log(res);\n                const temp = error + \" \" + info.email + \" mysql_sync changed to true\";\n                seterror(temp);\n                setsubmitted(true);\n              });\n            }\n          }).catch(async err => {\n            const response = err.response;\n\n            if (response.status >= 400 && response.status <= 599) {\n              const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\";\n              await db.delete(\"details\", info.email);\n              seterror(temp);\n            } else {\n              const temp = info.email + \" added to mysql\";\n              seterror(temp);\n              const indexeddb_data = {\n                name: info.name,\n                email: info.email,\n                contact_number1: info.contact_number1,\n                contact_number2: info.contact_number2,\n                retail_size: info.retail_size,\n                it_automation: info.it_automation,\n                no_of_mobile: info.no_of_mobile,\n                no_of_tab: info.no_of_tab,\n                no_of_computer: info.no_of_computer,\n                no_of_printer: info.no_of_printer,\n                no_of_scanner: info.no_of_scanner,\n                latitude: info.latitude,\n                longitude: info.longitude,\n                mysql_sync: true,\n                image: info.image\n              };\n              await db.put(\"details\", indexeddb_data).then(res => {\n                console.log(res);\n                const temp = error + \" \" + info.email + \" mysql_sync changed to true\";\n                seterror(temp);\n                setsubmitted(true);\n              });\n            }\n          });\n        }\n      });\n    };\n\n    use_effect_update_mysql_with_idb();\n  }, []); // useEffect(() => {\n  //   window.addEventListener( \"afterunload\", (async() => { console.log(\"START\") ; await  getting_data_from_idb();await update_mysql_with_idb(); delete_from_idb();} )) ;\n  // },[]);\n  // const latest_data = async () => {\n  //   console.log(\"INSIDE latest_data\") ;\n  //   const db = await openDB(\"retail\", 1);\n  //   const data = await db.getAll(\"details\");\n  //   console.log(data);\n  //   return data;\n  // };\n  // const getting_data_from_idb = async () => {\n  //   console.log(\"INSIDE getting_data_from_idb\") ;\n  //   const newdata = await latest_data();\n  //   setlists1(newdata);\n  // };\n\n  const update_mysql_with_idb = async () => {\n    console.log(\"INSIDE update_mysql_with_idb\");\n    const db = await openDB(\"retail\", 1);\n    const idb_data = await db.getAll(\"details\");\n    console.log(idb_data); //   if(navigator.onLine)\n    // {  \n\n    idb_data.map(info => {\n      console.log(info.mysql_sync);\n\n      if (info.mysql_sync === false) {\n        console.log(info.email);\n        const mysql_data = {\n          name: info.name,\n          email: info.email,\n          contact_number1: info.contact_number1,\n          contact_number2: info.contact_number2,\n          retail_size: info.retail_size,\n          it_automation: info.it_automation,\n          no_of_mobile: info.no_of_mobile,\n          no_of_tab: info.no_of_tab,\n          no_of_computer: info.no_of_computer,\n          no_of_printer: info.no_of_printer,\n          no_of_scanner: info.no_of_scanner,\n          latitude: info.latitude,\n          longitude: info.longitude,\n          image: info.image\n        };\n        let form_data = new FormData();\n        form_data.append('name', info.name);\n        form_data.append('email', info.email);\n        form_data.append('contact_number1', info.contact_number1);\n        form_data.append('contact_number2', info.contact_number2);\n        form_data.append('retail_size', info.retail_size);\n        form_data.append('it_automation', info.it_automation);\n        form_data.append('no_of_mobile', info.no_of_mobile);\n        form_data.append('no_of_tab', info.no_of_tab);\n        form_data.append('no_of_computer', info.no_of_computer);\n        form_data.append('no_of_printer', info.no_of_printer);\n        form_data.append('no_of_scanner', info.no_of_scanner);\n        form_data.append('latitude', info.latitude);\n        form_data.append('longitude', info.longitude);\n        form_data.append('image', info.image);\n        axios.post(\"http://127.0.0.1:8000/retail/create/\", form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        }).then(async response => {\n          // const json_data = await response.json();\n          //   console.log(\"mysql response\", json_data);\n          console.log(\"RESPONSE STATUS\", response.status);\n\n          if (response.status >= 400 && response.status <= 599) {\n            const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\";\n            await db.delete(\"details\", info.email);\n          } else {\n            const temp = info.email + \" added to mysql\";\n            seterror(temp);\n            const indexeddb_data = {\n              name: info.name,\n              email: info.email,\n              contact_number1: info.contact_number1,\n              contact_number2: info.contact_number2,\n              retail_size: info.retail_size,\n              it_automation: info.it_automation,\n              no_of_mobile: info.no_of_mobile,\n              no_of_tab: info.no_of_tab,\n              no_of_computer: info.no_of_computer,\n              no_of_printer: info.no_of_printer,\n              no_of_scanner: info.no_of_scanner,\n              latitude: info.latitude,\n              longitude: info.longitude,\n              mysql_sync: true,\n              image: info.image\n            };\n            await db.put(\"details\", indexeddb_data).then(res => {\n              console.log(res);\n              const temp = error + \" \" + info.email + \" mysql_sync changed to true\";\n              seterror(temp);\n              setsubmitted(true);\n            });\n          }\n        }).catch(err => {\n          console.log(err);\n          seterror(\"you are currently OFFLINE\");\n        });\n      }\n    });\n  };\n\n  const HandleLiveCapture = image => {\n    setlive_capture(image);\n    setimage_upload();\n    console.log(image);\n    setblobimage(image);\n    var stringLength = image.length - 'data:image/jpeg;base64,'.length;\n    var sizeInBytes = 4 * Math.ceil(stringLength / 3) * 0.5624896334383812;\n    var sizeInKb = sizeInBytes / 1000;\n    console.log(sizeInKb);\n    setlive_capture_size(sizeInKb);\n  };\n\n  const getlatlog = async (lat, long) => {\n    setlatitude(lat);\n    setlongitude(long);\n    setlocated(latitude && longitude ? true : false);\n  };\n\n  const handlesubmit = async e => {\n    e.preventDefault();\n    seterror(\"\");\n    setsubmitted(false);\n    const db = await openDB(\"retail\", 1);\n\n    if (located) {\n      if (await db.get(\"details\", email)) {\n        seterror(\"Email ID already registered\");\n      } else if (contact1 === contact2) {\n        seterror(\"Both the contact number can't be same\");\n      } else if (retailsize <= 0) {\n        const temp = \"Retail size can't be \" + retailsize;\n        seterror(temp);\n      } else if (!mobile && !tab && !computer && !printer && !scanner) {\n        const temp = \"Please choose the machine\";\n        seterror(temp);\n      } else if (mobile && nomobile <= 0) {\n        const temp = \"Number of mobiles can't be \" + nomobile;\n        seterror(temp);\n      } else if (tab && notab <= 0) {\n        const temp = \"Number of tabs can't be \" + notab;\n        seterror(temp);\n      } else if (computer && nocomputer <= 0) {\n        const temp = \"Number of computers can't be \" + nocomputer;\n        seterror(temp);\n      } else if (printer && noprinter <= 0) {\n        const temp = \"Number of printers can't be \" + noprinter;\n        seterror(temp);\n      } else if (scanner && noscanner <= 0) {\n        const temp = \"Number of scanners can't be \" + noscanner;\n        seterror(temp);\n      } else if (!(image_upload || live_capture)) {\n        const temp = \" Please capture a live image or upload image \";\n        seterror(temp);\n      } else if (image_upload && image_upload_size > 524288) {\n        const temp = \" Uploaded Image is more than 512KB \";\n        seterror(temp);\n      } else if (live_capture && live_capture_size > 512) {\n        const temp = \" Captured Image is more than 512KB \";\n        seterror(temp);\n      } else {\n        const mysql_data = {\n          name: name,\n          email: email,\n          contact_number1: contact1,\n          contact_number2: contact2,\n          retail_size: retailsize,\n          it_automation: itautomation,\n          no_of_mobile: nomobile,\n          no_of_tab: notab,\n          no_of_computer: nocomputer,\n          no_of_printer: noprinter,\n          no_of_scanner: noscanner,\n          latitude: latitude,\n          longitude: longitude,\n          image: blobimage\n        };\n        let form_data = new FormData();\n        form_data.append('name', name);\n        form_data.append('email', email);\n        form_data.append('contact_number1', contact1);\n        form_data.append('contact_number2', contact2);\n        form_data.append('retail_size', retailsize);\n        form_data.append('it_automation', itautomation);\n        form_data.append('no_of_mobile', nomobile);\n        form_data.append('no_of_tab', notab);\n        form_data.append('no_of_computer', nocomputer);\n        form_data.append('no_of_printer', noprinter);\n        form_data.append('no_of_scanner', noscanner);\n        form_data.append('latitude', latitude);\n        form_data.append('longitude', longitude);\n        form_data.append('image', blobimage);\n        const indexeddb_data = {\n          name: name,\n          email: email,\n          contact_number1: contact1,\n          contact_number2: contact2,\n          retail_size: retailsize,\n          it_automation: itautomation,\n          no_of_mobile: nomobile,\n          no_of_tab: notab,\n          no_of_computer: nocomputer,\n          no_of_printer: noprinter,\n          no_of_scanner: noscanner,\n          latitude: latitude,\n          longitude: longitude,\n          mysql_sync: true,\n          image: blobimage\n        }; // if (navigator.onLine) {\n\n        axios.post(\"http://127.0.0.1:8000/retail/create/\", form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        }).then(async response => {\n          // const json_data =await response.json();\n          // console.log(\"mysql response\", json_data);\n          console.log(\" FETCH RESPONSE \" + response.status);\n\n          if (response.status >= 400 && response.status <= 599) {\n            const temp = \"response status \" + response.status;\n            seterror(temp);\n          } else {\n            db.add(\"details\", indexeddb_data).then(res => {\n              console.log(res);\n            });\n            seterror(\"Retail Information Successfully Submitted\");\n            setsubmitted(true);\n          }\n        }).catch(err => {\n          console.log(err);\n          console.log(\"NOT ABLE TO FETCH\");\n          const indexeddb_data_sync_false = {\n            name: name,\n            email: email,\n            contact_number1: contact1,\n            contact_number2: contact2,\n            retail_size: retailsize,\n            it_automation: itautomation,\n            no_of_mobile: nomobile,\n            no_of_tab: notab,\n            no_of_computer: nocomputer,\n            no_of_printer: noprinter,\n            no_of_scanner: noscanner,\n            latitude: latitude,\n            longitude: longitude,\n            image: blobimage,\n            mysql_sync: false\n          };\n          db.add(\"details\", indexeddb_data_sync_false).then(res => {\n            console.log(res);\n          });\n          seterror(\"YOU ARE OFFLINE, Retail Information SAVED, Data will be validated once your are online\");\n          setsubmitted(true);\n        });\n      }\n    } else {\n      seterror(\"Please select your location\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"getdata\",\n      onSubmit: handlesubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"heading\",\n        children: \"Enter Retail Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Name*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          onChange: e => {\n            setname(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"E-Mail*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"email\",\n          onChange: e => {\n            setemail(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label contact_font\",\n          children: \"Contact Number 1*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          placeholder: \"10 digit\",\n          type: \"tel\",\n          pattern: \"[0-9]{10}\",\n          onChange: e => {\n            setcontact1(Number(e.target.value));\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label contact_font\",\n          children: \"Contact Number 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          placeholder: \"10 digit\",\n          type: \"tel\",\n          pattern: \"[0-9]{10}\",\n          onChange: e => {\n            setcontact2(Number(e.target.value));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Retail Size*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          placeholder: \"in sq feet area\",\n          onChange: e => {\n            setretailsize(Number(e.target.value));\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"IT Automation*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: itautomation,\n          onChange: e => {\n            setitautomation(e.target.value);\n          },\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Automated\",\n            children: \"Automated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Non-Automated\",\n            children: \"Non-Automated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slt_e-comm\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Types of Machine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align_chbox_lbl\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"machine_css\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              value: mobile,\n              onChange: e => {\n                setmobile(e.currentTarget.checked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this), \"mobile\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this), mobile && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          onChange: e => {\n            setnomobile(Number(e.target.value));\n          },\n          placeholder: \"Number of Devices\",\n          required: mobile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align_chbox_lbl\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"machine_css\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              value: tab,\n              onChange: e => {\n                settab(e.currentTarget.checked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this), \"tab\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), tab && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          onChange: e => {\n            setnotab(Number(e.target.value));\n          },\n          placeholder: \"Number of Devices\",\n          required: tab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align_chbox_lbl\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"machine_css\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              value: computer,\n              onChange: e => {\n                setcomputer(e.currentTarget.checked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this), \"computer\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), computer && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          onChange: e => {\n            setnocomputer(Number(e.target.value));\n          },\n          placeholder: \"Number of Devices\",\n          required: computer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align_chbox_lbl\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"machine_css\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              value: printer,\n              onChange: e => {\n                setprinter(e.currentTarget.checked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 15\n            }, this), \"printer\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 11\n        }, this), printer && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          onChange: e => {\n            setnoprinter(Number(e.target.value));\n          },\n          placeholder: \"Number of Devices\",\n          required: printer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align_chbox_lbl\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"machine_css\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              value: scanner,\n              onChange: e => {\n                setscanner(e.currentTarget.checked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), \"scanner\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this), scanner && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"number\",\n          onChange: e => {\n            setnoscanner(Number(e.target.value));\n          },\n          placeholder: \"Number of Devices\",\n          required: scanner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GoogleMaps, {\n        AddLatLong: getlatlog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CameraModule, {\n        AddLiveImage: HandleLiveCapture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: live_capture && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: live_capture,\n          alt: \"live_capture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"file\",\n          accept: \"image/png, image/jpeg\",\n          onChange: e => {\n            setimage_upload(URL.createObjectURL(e.target.files[0]));\n            setlive_capture();\n            setblobimage(e.target.files[0]);\n            console.log(e.target.files[0].size);\n            setimage_upload_size(e.target.files[0].size);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: image_upload && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image_upload,\n          className: \"image_upload_style\",\n          alt: \"image_upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: `label ${submitted ? \"green\" : \"error_display\"} `,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lbl_ipt form_btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"form_button\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          // await getting_data_from_idb();\n          await update_mysql_with_idb(); // delete_from_idb();\n        },\n        children: \"FETCH\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 14\n      }, this), name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 16\n      }, this), email, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 9\n      }, this), contact1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 9\n      }, this), contact2, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }, this), retailsize, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 9\n      }, this), itautomation, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this), located && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"LOCATION SPOTTED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this), latitude, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 20\n      }, this), longitude, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 808,\n        columnNumber: 21\n      }, this), mobile && nomobile, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 30\n      }, this), tab && notab, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 24\n      }, this), computer && nocomputer, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 811,\n        columnNumber: 34\n      }, this), printer && noprinter, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 32\n      }, this), scanner && noscanner, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 506,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Main, \"zVFrgqfaIWu4RQMpnjHwyWZru4E=\");\n\n_c = Main;\n;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","axios","useEffect","openDB","deleteDB","wrap","unwrap","GoogleMaps","CameraModule","Main","name","setname","email","setemail","contact1","setcontact1","contact2","setcontact2","retailsize","setretailsize","itautomation","setitautomation","mobile","setmobile","tab","settab","computer","setcomputer","printer","setprinter","scanner","setscanner","nomobile","setnomobile","notab","setnotab","nocomputer","setnocomputer","noprinter","setnoprinter","noscanner","setnoscanner","submitted","setsubmitted","located","setlocated","latitude","setlatitude","longitude","setlongitude","lists1","setlists1","error","seterror","image_upload","setimage_upload","live_capture","setlive_capture","blobimage","setblobimage","image_upload_size","setimage_upload_size","live_capture_size","setlive_capture_size","deletefromidb","setdeletefromidb","fetch_Data_from_MySQL","setfetch_Data_from_MySQL","upgrade","db","createObjectStore","keyPath","use_effect_update_mysql_with_idb","console","log","idb_data","getAll","map","info","mysql_sync","mysql_data","contact_number1","contact_number2","retail_size","it_automation","no_of_mobile","no_of_tab","no_of_computer","no_of_printer","no_of_scanner","image","form_data","FormData","append","post","headers","then","response","status","temp","delete","indexeddb_data","put","res","catch","err","update_mysql_with_idb","HandleLiveCapture","stringLength","length","sizeInBytes","Math","ceil","sizeInKb","getlatlog","lat","long","handlesubmit","e","preventDefault","get","add","indexeddb_data_sync_false","target","value","Number","currentTarget","checked","URL","createObjectURL","files","size"],"sources":["E:/COURSE/REACT_JS_n_PWA/crud/retail/src/components/RetailCreate/Main.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios' ;\r\nimport { useEffect } from \"react\";\r\nimport { openDB, deleteDB, wrap, unwrap } from \"idb\";\r\nimport \"./style.css\";\r\nimport GoogleMaps from \"../Maps/GoogleMaps\";\r\nimport CameraModule from \"../Camera/CameraModule\";\r\n\r\nfunction Main(){\r\n  const [name, setname] = useState(\"\");\r\n  const [email, setemail] = useState(\"\");\r\n  const [contact1, setcontact1] = useState();\r\n  const [contact2, setcontact2] = useState('');\r\n  const [retailsize, setretailsize] = useState(\"\");\r\n  const [itautomation, setitautomation] = useState(\"Automated\");\r\n\r\n  const [mobile, setmobile] = useState(false);\r\n  const [tab, settab] = useState(false);\r\n  const [computer, setcomputer] = useState(false);\r\n  const [printer, setprinter] = useState(false);\r\n  const [scanner, setscanner] = useState(false);\r\n\r\n  const [nomobile, setnomobile] = useState(0);\r\n  const [notab, setnotab] = useState(0);\r\n  const [nocomputer, setnocomputer] = useState(0);\r\n  const [noprinter, setnoprinter] = useState(0);\r\n  const [noscanner, setnoscanner] = useState(0);\r\n\r\n  const [submitted, setsubmitted] = useState(false);\r\n  const [located, setlocated] = useState(false);\r\n  const [latitude, setlatitude] = useState(\"\");\r\n  const [longitude, setlongitude] = useState(\"\");\r\n  const [lists1, setlists1] = useState([]);\r\n  const [error, seterror] = useState(\"\");\r\n  const [image_upload, setimage_upload] = useState();\r\n  const [live_capture, setlive_capture] = useState();\r\n  const [blobimage, setblobimage] = useState();\r\n  const [image_upload_size, setimage_upload_size] = useState();\r\n  const [live_capture_size, setlive_capture_size] = useState();\r\n\r\n  const [deletefromidb, setdeletefromidb] = useState([]);\r\n  const [fetch_Data_from_MySQL ,setfetch_Data_from_MySQL] = useState([]);\r\n\r\n  useEffect ( () => {\r\n    openDB(\"retail\", 1, {\r\n      upgrade(db) { \r\n        db.createObjectStore(\"details\", { keyPath: \"email\" });\r\n      },\r\n    });\r\n  }, [] );\r\n\r\n  useEffect( () => {\r\n\r\n    const use_effect_update_mysql_with_idb = async () => {\r\n      console.log(\"INSIDE update_mysql_with_idb\") ;\r\n      const db = await openDB(\"retail\", 1);\r\n      const idb_data = await db.getAll(\"details\");\r\n      console.log(idb_data);\r\n  \r\n    //   if(navigator.onLine)\r\n    // {  \r\n      idb_data.map( (info) => {\r\n        console.log(info.mysql_sync);\r\n        if( info.mysql_sync === false )\r\n        {\r\n          console.log(info.email);\r\n          const mysql_data = {\r\n            name: info.name,\r\n            email: info.email,\r\n            contact_number1: info.contact_number1,\r\n            contact_number2: info.contact_number2,\r\n            retail_size: info.retail_size,\r\n            it_automation: info.it_automation,\r\n            no_of_mobile: info.no_of_mobile,\r\n            no_of_tab: info.no_of_tab,\r\n            no_of_computer: info.no_of_computer,\r\n            no_of_printer: info.no_of_printer,\r\n            no_of_scanner: info.no_of_scanner,\r\n            latitude: info.latitude,\r\n            longitude: info.longitude,\r\n            image: info.image\r\n          };\r\n  \r\n          let form_data = new FormData();\r\n          form_data.append('name', info.name);\r\n          form_data.append('email', info.email);\r\n          form_data.append('contact_number1', info.contact_number1);\r\n          form_data.append('contact_number2', info.contact_number2);\r\n          form_data.append('retail_size', info.retail_size);\r\n          form_data.append('it_automation', info.it_automation);\r\n          form_data.append('no_of_mobile', info.no_of_mobile);\r\n          form_data.append('no_of_tab', info.no_of_tab);\r\n          form_data.append('no_of_computer', info.no_of_computer);\r\n          form_data.append('no_of_printer', info.no_of_printer);\r\n          form_data.append('no_of_scanner', info.no_of_scanner);\r\n          form_data.append('latitude', info.latitude);\r\n          form_data.append('longitude', info.longitude);\r\n          form_data.append('image', info.image );\r\n  \r\n          axios.post(\"http://127.0.0.1:8000/retail/create/\", form_data, {\r\n            headers: {\r\n              'content-type': 'multipart/form-data',\r\n            }\r\n          })\r\n            .then(async(response) => {\r\n  \r\n              // const json_data = await response.json();\r\n              //   console.log(\"mysql response\", json_data);\r\n                console.log(\"RESPONSE STATUS\" , response.status);\r\n  \r\n              if (response.status >= 400 && response.status <= 599) {\r\n                const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\" ;\r\n  \r\n                await db.delete(\"details\",info.email );\r\n  \r\n              } else {\r\n  \r\n                const temp = info.email + \" added to mysql\" ;\r\n                seterror(temp);\r\n  \r\n                const indexeddb_data = {\r\n                  name: info.name,\r\n                  email: info.email,\r\n                  contact_number1: info.contact_number1,\r\n                  contact_number2: info.contact_number2,\r\n                  retail_size: info.retail_size,\r\n                  it_automation: info.it_automation,\r\n                  no_of_mobile: info.no_of_mobile,\r\n                  no_of_tab: info.no_of_tab,\r\n                  no_of_computer: info.no_of_computer,\r\n                  no_of_printer: info.no_of_printer,\r\n                  no_of_scanner: info.no_of_scanner,\r\n                  latitude: info.latitude,\r\n                  longitude: info.longitude,\r\n                  mysql_sync: true,\r\n                  image: info.image\r\n                }\r\n  \r\n                await db.put(\"details\", indexeddb_data)\r\n                .then((res) => {\r\n                  console.log(res);\r\n  \r\n                  const temp = error + \" \" + info.email + \" mysql_sync changed to true\" ;\r\n                  seterror(temp);\r\n                  setsubmitted(true);\r\n  \r\n                });\r\n                \r\n              }\r\n            })\r\n            .catch(async(err) => {\r\n\r\n              const response = err.response;\r\n\r\n              if (response.status >= 400 && response.status <= 599) {\r\n                const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\" ;\r\n  \r\n                await db.delete(\"details\",info.email );\r\n                seterror(temp);\r\n              } else {\r\n  \r\n                const temp = info.email + \" added to mysql\" ;\r\n                seterror(temp);\r\n  \r\n                const indexeddb_data = {\r\n                  name: info.name,\r\n                  email: info.email,\r\n                  contact_number1: info.contact_number1,\r\n                  contact_number2: info.contact_number2,\r\n                  retail_size: info.retail_size,\r\n                  it_automation: info.it_automation,\r\n                  no_of_mobile: info.no_of_mobile,\r\n                  no_of_tab: info.no_of_tab,\r\n                  no_of_computer: info.no_of_computer,\r\n                  no_of_printer: info.no_of_printer,\r\n                  no_of_scanner: info.no_of_scanner,\r\n                  latitude: info.latitude,\r\n                  longitude: info.longitude,\r\n                  mysql_sync: true,\r\n                  image: info.image\r\n                }\r\n  \r\n                await db.put(\"details\", indexeddb_data)\r\n                .then((res) => {\r\n                  console.log(res);\r\n  \r\n                  const temp = error + \" \" + info.email + \" mysql_sync changed to true\" ;\r\n                  seterror(temp);\r\n                  setsubmitted(true);\r\n  \r\n                });\r\n                \r\n              }\r\n\r\n            });\r\n        }\r\n      } )\r\n    }\r\n    use_effect_update_mysql_with_idb();    \r\n\r\n  }, [] );\r\n\r\n  // useEffect(() => {\r\n\r\n  //   window.addEventListener( \"afterunload\", (async() => { console.log(\"START\") ; await  getting_data_from_idb();await update_mysql_with_idb(); delete_from_idb();} )) ;\r\n  // },[]);\r\n\r\n    \r\n  // const latest_data = async () => {\r\n  //   console.log(\"INSIDE latest_data\") ;\r\n  //   const db = await openDB(\"retail\", 1);\r\n  //   const data = await db.getAll(\"details\");\r\n  //   console.log(data);\r\n  //   return data;\r\n  // };\r\n\r\n  // const getting_data_from_idb = async () => {\r\n  //   console.log(\"INSIDE getting_data_from_idb\") ;\r\n  //   const newdata = await latest_data();\r\n  //   setlists1(newdata);\r\n  // };\r\n\r\n  const update_mysql_with_idb = async () => {\r\n    console.log(\"INSIDE update_mysql_with_idb\") ;\r\n    const db = await openDB(\"retail\", 1);\r\n    const idb_data = await db.getAll(\"details\");\r\n    console.log(idb_data);\r\n\r\n  //   if(navigator.onLine)\r\n  // {  \r\n    idb_data.map( (info) => {\r\n      console.log(info.mysql_sync);\r\n      if( info.mysql_sync === false )\r\n      {\r\n        console.log(info.email);\r\n        const mysql_data = {\r\n          name: info.name,\r\n          email: info.email,\r\n          contact_number1: info.contact_number1,\r\n          contact_number2: info.contact_number2,\r\n          retail_size: info.retail_size,\r\n          it_automation: info.it_automation,\r\n          no_of_mobile: info.no_of_mobile,\r\n          no_of_tab: info.no_of_tab,\r\n          no_of_computer: info.no_of_computer,\r\n          no_of_printer: info.no_of_printer,\r\n          no_of_scanner: info.no_of_scanner,\r\n          latitude: info.latitude,\r\n          longitude: info.longitude,\r\n          image: info.image\r\n        };\r\n\r\n        let form_data = new FormData();\r\n        form_data.append('name', info.name);\r\n        form_data.append('email', info.email);\r\n        form_data.append('contact_number1', info.contact_number1);\r\n        form_data.append('contact_number2', info.contact_number2);\r\n        form_data.append('retail_size', info.retail_size);\r\n        form_data.append('it_automation', info.it_automation);\r\n        form_data.append('no_of_mobile', info.no_of_mobile);\r\n        form_data.append('no_of_tab', info.no_of_tab);\r\n        form_data.append('no_of_computer', info.no_of_computer);\r\n        form_data.append('no_of_printer', info.no_of_printer);\r\n        form_data.append('no_of_scanner', info.no_of_scanner);\r\n        form_data.append('latitude', info.latitude);\r\n        form_data.append('longitude', info.longitude);\r\n        form_data.append('image', info.image );\r\n\r\n        axios.post(\"http://127.0.0.1:8000/retail/create/\", form_data, {\r\n          headers: {\r\n            'content-type': 'multipart/form-data',\r\n          }\r\n        })\r\n          .then(async(response) => {\r\n\r\n            // const json_data = await response.json();\r\n            //   console.log(\"mysql response\", json_data);\r\n              console.log(\"RESPONSE STATUS\" , response.status);\r\n\r\n            if (response.status >= 400 && response.status <= 599) {\r\n              const temp = error + \" \" + response.status + \"  BAD REQUEST, ERROR FOR RETAIL NAME \" + info.name + \" EMAIL ID - \" + info.email + \"DATA NOT ADDED, PLS RE-ENTER PROPERLY\" ;\r\n\r\n              await db.delete(\"details\",info.email );\r\n\r\n            } else {\r\n\r\n              const temp = info.email + \" added to mysql\" ;\r\n              seterror(temp);\r\n\r\n              const indexeddb_data = {\r\n                name: info.name,\r\n                email: info.email,\r\n                contact_number1: info.contact_number1,\r\n                contact_number2: info.contact_number2,\r\n                retail_size: info.retail_size,\r\n                it_automation: info.it_automation,\r\n                no_of_mobile: info.no_of_mobile,\r\n                no_of_tab: info.no_of_tab,\r\n                no_of_computer: info.no_of_computer,\r\n                no_of_printer: info.no_of_printer,\r\n                no_of_scanner: info.no_of_scanner,\r\n                latitude: info.latitude,\r\n                longitude: info.longitude,\r\n                mysql_sync: true,\r\n                image: info.image\r\n              }\r\n\r\n              await db.put(\"details\", indexeddb_data)\r\n              .then((res) => {\r\n                console.log(res);\r\n\r\n                const temp = error + \" \" + info.email + \" mysql_sync changed to true\" ;\r\n                seterror(temp);\r\n                setsubmitted(true);\r\n\r\n              });\r\n              \r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            seterror(\"you are currently OFFLINE\");\r\n          });\r\n      }\r\n    } )\r\n  }\r\n\r\n\r\n  const HandleLiveCapture = (image) => \r\n  {\r\n    setlive_capture(image);\r\n    setimage_upload();\r\n    console.log(image);\r\n    setblobimage(image);\r\n    var stringLength = image.length - 'data:image/jpeg;base64,'.length;\r\n    var sizeInBytes = 4 * Math.ceil((stringLength / 3))*0.5624896334383812;\r\n    var sizeInKb=sizeInBytes/1000;\r\n    console.log(sizeInKb);\r\n    setlive_capture_size(sizeInKb);\r\n\r\n  }\r\n\r\n  const getlatlog = async (lat, long) => {\r\n    setlatitude(lat);\r\n    setlongitude(long);\r\n    setlocated(latitude && longitude ? true : false);\r\n  };\r\n\r\n  const handlesubmit = async (e) => {\r\n    e.preventDefault();\r\n    seterror(\"\");\r\n    setsubmitted(false);\r\n    const db = await openDB(\"retail\", 1);\r\n\r\n    if (located) {\r\n      if (await db.get(\"details\", email)) {\r\n        seterror(\"Email ID already registered\");\r\n      } else if (contact1 === contact2) {\r\n        seterror(\"Both the contact number can't be same\");\r\n      } else if (retailsize <= 0) {\r\n        const temp = \"Retail size can't be \" + retailsize;\r\n        seterror(temp);\r\n      } else if (!mobile && !tab && !computer && !printer && !scanner) {\r\n        const temp = \"Please choose the machine\";\r\n        seterror(temp);\r\n      } else if (mobile && nomobile <= 0) {\r\n        const temp = \"Number of mobiles can't be \" + nomobile;\r\n        seterror(temp);\r\n      } else if (tab && notab <= 0) {\r\n        const temp = \"Number of tabs can't be \" + notab;\r\n        seterror(temp);\r\n      } else if (computer && nocomputer <= 0) {\r\n        const temp = \"Number of computers can't be \" + nocomputer;\r\n        seterror(temp);\r\n      } else if (printer && noprinter <= 0) {\r\n        const temp = \"Number of printers can't be \" + noprinter;\r\n        seterror(temp);\r\n      } else if (scanner && noscanner <= 0) {\r\n        const temp = \"Number of scanners can't be \" + noscanner;\r\n        seterror(temp);\r\n      } else if (!(image_upload || live_capture)) {\r\n        const temp = \" Please capture a live image or upload image \";\r\n        seterror(temp);\r\n      } else if (image_upload && image_upload_size > 524288 ) {\r\n        const temp = \" Uploaded Image is more than 512KB \";\r\n        seterror(temp);\r\n      } else if (live_capture && live_capture_size > 512 ) {\r\n        const temp = \" Captured Image is more than 512KB \";\r\n        seterror(temp);\r\n      }\r\n       else {\r\n\r\n        const mysql_data = {\r\n          name: name,\r\n          email: email,\r\n          contact_number1: contact1,\r\n          contact_number2: contact2,\r\n          retail_size: retailsize,\r\n          it_automation: itautomation,\r\n          no_of_mobile: nomobile,\r\n          no_of_tab: notab,\r\n          no_of_computer: nocomputer,\r\n          no_of_printer: noprinter,\r\n          no_of_scanner: noscanner,\r\n          latitude: latitude,\r\n          longitude: longitude,\r\n          image: blobimage,\r\n        };\r\n\r\n        let form_data = new FormData();\r\n        form_data.append('name', name);\r\n        form_data.append('email', email);\r\n        form_data.append('contact_number1', contact1);\r\n        form_data.append('contact_number2', contact2);\r\n        form_data.append('retail_size', retailsize);\r\n        form_data.append('it_automation', itautomation);\r\n        form_data.append('no_of_mobile', nomobile);\r\n        form_data.append('no_of_tab', notab);\r\n        form_data.append('no_of_computer', nocomputer);\r\n        form_data.append('no_of_printer', noprinter);\r\n        form_data.append('no_of_scanner', noscanner);\r\n        form_data.append('latitude', latitude);\r\n        form_data.append('longitude', longitude);\r\n        form_data.append('image', blobimage );\r\n        \r\n\r\n        const indexeddb_data = {\r\n          name: name,\r\n          email: email,\r\n          contact_number1: contact1,\r\n          contact_number2: contact2,\r\n          retail_size: retailsize,\r\n          it_automation: itautomation,\r\n          no_of_mobile: nomobile,\r\n          no_of_tab: notab,\r\n          no_of_computer: nocomputer,\r\n          no_of_printer: noprinter,\r\n          no_of_scanner: noscanner,\r\n          latitude: latitude,\r\n          longitude: longitude,\r\n          mysql_sync: true,\r\n          image: blobimage,\r\n        };\r\n\r\n        \r\n        // if (navigator.onLine) {\r\n          axios.post(\"http://127.0.0.1:8000/retail/create/\",form_data, {\r\n            headers: {\r\n              'content-type': 'multipart/form-data',\r\n            }\r\n          })\r\n            .then(async(response) => {\r\n              // const json_data =await response.json();\r\n              // console.log(\"mysql response\", json_data);\r\n              console.log(\" FETCH RESPONSE \"+ response.status) ;\r\n\r\n              if (response.status >= 400 && response.status <= 599) {\r\n                \r\n                const temp = \"response status \" + response.status ;\r\n                seterror(temp);\r\n                \r\n              } else \r\n              {\r\n\r\n                db.add(\"details\", indexeddb_data).then((res) => {\r\n                  console.log(res);\r\n                });\r\n                seterror(\"Retail Information Successfully Submitted\");\r\n                setsubmitted(true);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n                console.log(\"NOT ABLE TO FETCH\");\r\n                const indexeddb_data_sync_false = {\r\n                  name: name,\r\n                  email: email,\r\n                  contact_number1: contact1,\r\n                  contact_number2: contact2,\r\n                  retail_size: retailsize,\r\n                  it_automation: itautomation,\r\n                  no_of_mobile: nomobile,\r\n                  no_of_tab: notab,\r\n                  no_of_computer: nocomputer,\r\n                  no_of_printer: noprinter,\r\n                  no_of_scanner: noscanner,\r\n                  latitude: latitude,\r\n                  longitude: longitude,\r\n                  image: blobimage,\r\n                  mysql_sync: false,\r\n                };\r\n                db.add(\"details\", indexeddb_data_sync_false).then((res) => {\r\n                  console.log(res);\r\n                });\r\n                seterror(\"YOU ARE OFFLINE, Retail Information SAVED, Data will be validated once your are online\");\r\n                setsubmitted(true);\r\n\r\n            });\r\n      }\r\n    } else {\r\n      seterror(\"Please select your location\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"getdata\" onSubmit={handlesubmit}>\r\n        <span className=\"heading\">Enter Retail Information</span>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label\">Name*</label>\r\n          <input className=\"input\" type=\"text\" onChange={(e) => {setname(e.target.value);}} required />\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label\">E-Mail*</label>\r\n          <input className=\"input\" type=\"email\" onChange={(e) => { setemail(e.target.value);}} required />\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label contact_font\">Contact Number 1*</label>\r\n          <input\r\n            className=\"input\"\r\n            placeholder=\"10 digit\"\r\n            type=\"tel\"\r\n            pattern=\"[0-9]{10}\"\r\n            onChange={(e) => {\r\n              setcontact1(Number(e.target.value));\r\n            }}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label contact_font\">Contact Number 2</label>\r\n          <input\r\n            className=\"input\"\r\n            placeholder=\"10 digit\"\r\n            type=\"tel\"\r\n            pattern=\"[0-9]{10}\"\r\n            onChange={(e) => {\r\n              setcontact2(Number(e.target.value));\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label\">Retail Size*</label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"number\"\r\n            placeholder=\"in sq feet area\"\r\n            onChange={(e) => {\r\n              setretailsize(Number(e.target.value));\r\n            }}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label\">IT Automation*</label>\r\n          <select\r\n            value={itautomation}\r\n            onChange={(e) => {\r\n              setitautomation(e.target.value);\r\n            }}\r\n            required\r\n          >\r\n            <option value=\"Automated\">Automated</option>\r\n            <option value=\"Non-Automated\">Non-Automated</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"slt_e-comm\">\r\n          <label className=\"label\">Types of Machine</label>\r\n\r\n          <div className=\"align_chbox_lbl\">\r\n            <label className=\"machine_css\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={mobile}\r\n                onChange={(e) => {\r\n                  setmobile(e.currentTarget.checked);\r\n                }}\r\n              />\r\n              mobile\r\n            </label>\r\n          </div>\r\n          {mobile && (\r\n            <input\r\n              className=\"input\"\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setnomobile(Number(e.target.value));\r\n              }}\r\n              placeholder=\"Number of Devices\"\r\n              required={mobile}\r\n            />\r\n          )}\r\n\r\n          <br />\r\n          <div className=\"align_chbox_lbl\">\r\n            <label className=\"machine_css\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={tab}\r\n                onChange={(e) => {\r\n                  settab(e.currentTarget.checked);\r\n                }}\r\n              />\r\n              tab\r\n            </label>\r\n          </div>\r\n          {tab && (\r\n            <input\r\n              className=\"input\"\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setnotab(Number(e.target.value));\r\n              }}\r\n              placeholder=\"Number of Devices\"\r\n              required={tab}\r\n            />\r\n          )}\r\n\r\n          <br />\r\n          <div className=\"align_chbox_lbl\">\r\n            <label className=\"machine_css\">\r\n              {\" \"}\r\n              <input\r\n                type=\"checkbox\"\r\n                value={computer}\r\n                onChange={(e) => {\r\n                  setcomputer(e.currentTarget.checked);\r\n                }}\r\n              />\r\n              computer\r\n            </label>\r\n          </div>\r\n          {computer && (\r\n            <input\r\n              className=\"input\"\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setnocomputer(Number(e.target.value));\r\n              }}\r\n              placeholder=\"Number of Devices\"\r\n              required={computer}\r\n            />\r\n          )}\r\n\r\n          <br />\r\n          <div className=\"align_chbox_lbl\">\r\n            <label className=\"machine_css\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={printer}\r\n                onChange={(e) => {\r\n                  setprinter(e.currentTarget.checked);\r\n                }}\r\n              />\r\n              printer\r\n            </label>\r\n          </div>\r\n          {printer && (\r\n            <input\r\n              className=\"input\"\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setnoprinter(Number(e.target.value));\r\n              }}\r\n              placeholder=\"Number of Devices\"\r\n              required={printer}\r\n            />\r\n          )}\r\n\r\n          <br />\r\n          <div className=\"align_chbox_lbl\">\r\n            <label className=\"machine_css\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={scanner}\r\n                onChange={(e) => {\r\n                  setscanner(e.currentTarget.checked);\r\n                }}\r\n              />\r\n              scanner\r\n            </label>\r\n          </div>\r\n          {scanner && (\r\n            <input\r\n              className=\"input\"\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setnoscanner(Number(e.target.value));\r\n              }}\r\n              placeholder=\"Number of Devices\"\r\n              required={scanner}\r\n            />\r\n          )}\r\n\r\n          <br />\r\n        </div>\r\n\r\n        <GoogleMaps AddLatLong={getlatlog} />\r\n\r\n        <CameraModule AddLiveImage={HandleLiveCapture} />\r\n\r\n        <div>\r\n          { live_capture && \r\n          <img src={ live_capture } alt=\"live_capture\" />\r\n          }\r\n        </div>\r\n\r\n        <div className=\"lbl_ipt\">\r\n          <label className=\"label\">Photo</label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"file\" accept=\"image/png, image/jpeg\"\r\n            onChange={(e) => { setimage_upload(URL.createObjectURL(e.target.files[0])) ; setlive_capture() ; setblobimage(e.target.files[0]) ; console.log(e.target.files[0].size) ; setimage_upload_size(e.target.files[0].size) ;  }}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n        { image_upload && \r\n          <img src={image_upload} className=\"image_upload_style\" alt=\"image_upload\" />\r\n        }\r\n        </div>\r\n\r\n        <label className={`label ${submitted ? \"green\" : \"error_display\"} `}>\r\n          {error}\r\n        </label>\r\n\r\n        <div className=\"lbl_ipt form_btn\">\r\n          <button type=\"submit\" className=\"form_button\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <div>\r\n        {/* {lists1.length > 0 ? (\r\n          <>\r\n          <h1>LIST1</h1>\r\n            {lists1.map((task) => (\r\n              <div key={task.email}>\r\n                <p> Name - {task.name} </p>\r\n                <p> Email - {task.email} </p>\r\n                <p> SYNC - {task.mysql_sync && \"true\"} </p>\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          \"NO DATA \"\r\n        )} */}\r\n\r\n          {/* {deletefromidb.length > 0 ? (\r\n          <>\r\n          <h1>IDB DELETE</h1>\r\n          { deletefromidb.map( (item) => (\r\n            <div key={item}>\r\n            <p>{item.email}  </p>\r\n            <p>{! item.mysql_sync && \"false\"}  </p>\r\n            </div>\r\n          ) ) }\r\n          </> \r\n          ) : (\r\n            \"NO IDB \" )} */}\r\n\r\n          {/* { fetch_Data_from_MySQL.length > 0 ? (\r\n             <>\r\n             <h1>MYSQL DATA</h1>\r\n             { fetch_Data_from_MySQL.length + ' DATAS' }\r\n             { fetch_Data_from_MySQL.map( (item, index) => {\r\n               return <div key={index}>\r\n                 <p>{item.name}</p>\r\n                 <p>{item.email}</p>\r\n               </div>\r\n             } ) }\r\n             </>\r\n             ) : ( \"NO MYSQL DATA \" ) }  */}\r\n\r\n             <button onClick={(async() => {\r\n              // await getting_data_from_idb();\r\n              await update_mysql_with_idb(); \r\n                    // delete_from_idb();\r\n              } )}>\r\n               FETCH\r\n             </button>\r\n\r\n          \r\n\r\n       \r\n        {name} <br />\r\n        {email}\r\n        <br />\r\n        {contact1}\r\n        <br />\r\n        {contact2}\r\n        <br />\r\n        {retailsize}\r\n        <br />\r\n        {itautomation}\r\n        <br />\r\n        {located && <p>LOCATION SPOTTED</p>}\r\n        <br />\r\n        {latitude} <br />\r\n        {longitude} <br />\r\n        {mobile && nomobile} <br />\r\n        {tab && notab} <br />\r\n        {computer && nocomputer} <br />\r\n        {printer && noprinter} <br />\r\n        {scanner && noscanner} <br /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}